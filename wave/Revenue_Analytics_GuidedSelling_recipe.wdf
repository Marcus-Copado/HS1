["{}","{\"nodes\":{\"REPLACE0\":{\"sources\":[\"JOIN2\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"coalesce(\\\"OpptyProduct.Pricebook.Product2Id\\\", null, 'false')\",\"name\":\"OpptyProduct.Pricebook.Product2Id_replace\",\"label\":\"Pricebook.Product2Id Replace\",\"type\":\"TEXT\"}]}},\"FILTER0\":{\"sources\":[\"LOAD_DATASET7\"],\"action\":\"filter\",\"parameters\":{\"filterExpressions\":[{\"operands\":[\"true\"],\"field\":\"Opportunity.IsClosed\",\"type\":\"TEXT\",\"operator\":\"EQUAL\"},{\"operands\":[\"true\"],\"field\":\"Opportunity.IsWon\",\"type\":\"TEXT\",\"operator\":\"EQUAL\"}]}},\"FILTER1\":{\"sources\":[\"LOAD_DATASET7\"],\"action\":\"filter\",\"parameters\":{\"filterExpressions\":[{\"operands\":[\"true\"],\"field\":\"Opportunity.IsClosed\",\"type\":\"TEXT\",\"operator\":\"EQUAL\"},{\"operands\":[\"true\"],\"field\":\"Opportunity.IsWon\",\"type\":\"TEXT\",\"operator\":\"EQUAL\"},{\"operands\":[],\"field\":\"Pricebook.Product2Id\",\"type\":\"TEXT\",\"operator\":\"IS_NOT_NULL\"}]}},\"FILTER2\":{\"sources\":[\"FORMULA4\"],\"action\":\"filter\",\"parameters\":{\"filterExpressions\":[{\"operands\":[\"25\"],\"field\":\"ProductCode_formula_formula\",\"type\":\"NUMBER\",\"operator\":\"LESS_OR_EQUAL\"}]}},\"FILTER3\":{\"sources\":[\"EDIT_ATTRIBUTES0\"],\"action\":\"filter\",\"parameters\":{\"filterExpressions\":[{\"operands\":[\"A\"],\"field\":\"User.Role.RoleNamesPath_formula\",\"type\":\"TEXT\",\"operator\":\"EQUAL\"}]}},\"OUTPUT1\":{\"sources\":[\"FILTER3\"],\"action\":\"save\",\"parameters\":{\"fields\":[],\"dataset\":{\"name\":\"GuidedSelling_ED\",\"label\":\"GuidedSelling_ED\",\"folderName\":\"Revenue_Analytics\",\"type\":\"analyticsDataset\"}}},\"LOAD_DATASET6\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"ProductCode\",\"Family\",\"Id\",\"Name\"],\"dataset\":{\"name\":\"products\",\"label\":\"Products\",\"type\":\"analyticsDataset\"}}},\"JOIN1\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[]}},\"sources\":[\"FORMULA2\",\"FILTER2\"],\"action\":\"join\",\"parameters\":{\"leftKeys\":[\"User.Role.RoleNamesPath_formula\"],\"rightKeys\":[\"ProductCode_formula\"],\"rightQualifier\":\"Product\",\"joinType\":\"LEFT_OUTER\"}},\"LOAD_DATASET5\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"User.Role.RoleNamesPath\",\"User.Role.ForecastManager.UniqueUserName\",\"User.SmallPhotoUrl\",\"User.UserRoleId\",\"User.Role.ParentRole.ForecastManager.UniqueUserName\",\"User.Role.ParentRole.DeveloperName\",\"Name\",\"Industry\",\"User.Role.DeveloperName\",\"User.IsActive\",\"OwnerId\",\"User.Role.ForecastManager.Name\",\"User.Username\",\"User.Role.Name\",\"AccountSource\",\"User.Role.ForecastManager.ForecastEnabled\",\"User.Role.ParentRole.Name\",\"User.Name\",\"User.Role.RoleNames\",\"User.UniqueUserName\",\"User.Role.ParentRoleId\",\"Type\",\"BillingCountry\",\"User.Role.ParentRole.ForecastManager.Name\",\"User.Role.Roles\",\"CreatedDate\",\"LastActivityDate\",\"User.ForecastEnabled\",\"Id\",\"BillingState\",\"User.Role.RolePath\",\"NumberOfEmployees\",\"AnnualRevenue\"],\"dataset\":{\"name\":\"account\",\"label\":\"Account\",\"type\":\"analyticsDataset\"}}},\"EDIT_ATTRIBUTES0\":{\"sources\":[\"BUCKET0\"],\"action\":\"schema\",\"parameters\":{\"fields\":[{\"newProperties\":{\"typeProperties\":{\"type\":\"TEXT\"},\"name\":\"Bought\",\"label\":\"Bought\"},\"name\":\"OpptyProduct.Pricebook.Product2Id_replace_bucket\"}]}},\"FORMULA2\":{\"sources\":[\"LOAD_DATASET5\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"'A'\",\"defaultValue\":\"A\",\"precision\":255,\"name\":\"User.Role.RoleNamesPath_formula\",\"label\":\"JoinKey\",\"type\":\"TEXT\"}]}},\"BUCKET0\":{\"sources\":[\"REPLACE0\"],\"action\":\"bucket\",\"parameters\":{\"fields\":[{\"bucketsSetup\":{\"sourceField\":{\"name\":\"OpptyProduct.Pricebook.Product2Id_replace\",\"type\":\"TEXT\"},\"defaultBucketValue\":\"true\",\"buckets\":[{\"sourceValues\":[\"false\"],\"value\":\"false\"}],\"isPassthroughEnabled\":false,\"nullBucketValue\":\"false\"},\"name\":\"OpptyProduct.Pricebook.Product2Id_replace_bucket\",\"label\":\"Pricebook.Product2Id Replace Bucket\",\"type\":\"TEXT\"}]}},\"FORMULA3\":{\"sources\":[\"JOIN3\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"'A'\",\"defaultValue\":\"A\",\"precision\":255,\"name\":\"ProductCode_formula\",\"label\":\"JoinKey\",\"type\":\"TEXT\"}]}},\"FORMULA4\":{\"sources\":[\"FORMULA3\"],\"action\":\"computeRelative\",\"parameters\":{\"partitionBy\":[\"ProductCode_formula\"],\"orderBy\":[{\"fieldName\":\"OpptyProducts.Total_ListPrice\",\"direction\":\"DESC\"}],\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"dense_rank()\",\"defaultValue\":\"\",\"precision\":10,\"name\":\"ProductCode_formula_formula\",\"scale\":0,\"label\":\"Rank\",\"type\":\"NUMBER\"}]}},\"JOIN3\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[\"OpptyProducts.Discount_Percent\",\"OpptyProducts.HasRevenueSchedule\",\"OpptyProducts.Id\",\"OpptyProducts.ListPrice\",\"OpptyProducts.Opportunity.Account.AccountSource\",\"OpptyProducts.Opportunity.Account.AnnualRevenue\",\"OpptyProducts.Opportunity.Account.BillingCountry\",\"OpptyProducts.Opportunity.Account.BillingState\",\"OpptyProducts.Opportunity.Account.Industry\",\"OpptyProducts.Opportunity.Account.Name\",\"OpptyProducts.Opportunity.Account.NumberOfEmployees\",\"OpptyProducts.Opportunity.Account.OwnerId\",\"OpptyProducts.Opportunity.Account.Type\",\"OpptyProducts.Opportunity.Account.User.Name\",\"OpptyProducts.Opportunity.Account.User.Role.Name\",\"OpptyProducts.Opportunity.Account.User.Role.RolePath\",\"OpptyProducts.Opportunity.Account.User.Role.Roles\",\"OpptyProducts.Opportunity.Account.User.UniqueUserName\",\"OpptyProducts.Opportunity.AccountId\",\"OpptyProducts.Opportunity.CloseDate\",\"OpptyProducts.Opportunity.CreatedDate\",\"OpptyProducts.Opportunity.ForecastCategoryName\",\"OpptyProducts.Opportunity.IsClosed\",\"OpptyProducts.Opportunity.IsWon\",\"OpptyProducts.Opportunity.LeadSource\",\"OpptyProducts.Opportunity.Name\",\"OpptyProducts.Opportunity.OwnerId\",\"OpptyProducts.Opportunity.StageName\",\"OpptyProducts.Opportunity.Type\",\"OpptyProducts.Opportunity.User.Name\",\"OpptyProducts.Opportunity.User.Role.Name\",\"OpptyProducts.Opportunity.User.Role.ParentRole.DeveloperName\",\"OpptyProducts.Opportunity.User.Role.ParentRoleId\",\"OpptyProducts.Opportunity.User.Role.RoleNames\",\"OpptyProducts.Opportunity.User.Role.RolePath\",\"OpptyProducts.Opportunity.User.Role.Roles\",\"OpptyProducts.Opportunity.User.SmallPhotoUrl\",\"OpptyProducts.Opportunity.User.UniqueUserName\",\"OpptyProducts.OpportunityId\",\"OpptyProducts.Pricebook.Product2Id\",\"OpptyProducts.PricebookEntryId\",\"OpptyProducts.Product.Family\",\"OpptyProducts.Product.Name\",\"OpptyProducts.Product.ProductCode\",\"OpptyProducts.ProductCode\",\"OpptyProducts.Quantity\",\"OpptyProducts.ServiceDate\",\"OpptyProducts.TotalPrice\"]}},\"sources\":[\"LOAD_DATASET6\",\"FILTER1\"],\"action\":\"join\",\"parameters\":{\"leftKeys\":[\"Id\"],\"rightKeys\":[\"Pricebook.Product2Id\"],\"rightQualifier\":\"OpptyProducts\",\"joinType\":\"MULTI_VALUE_LOOKUP\"}},\"LOAD_DATASET7\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"Opportunity.IsWon\",\"Opportunity.User.SmallPhotoUrl\",\"ServiceDate\",\"Opportunity.User.Role.ParentRoleId\",\"Opportunity.Account.User.UniqueUserName\",\"Product.ProductCode\",\"Opportunity.StageName\",\"ProductCode\",\"Opportunity.Account.User.Role.Roles\",\"Opportunity.Account.User.Role.Name\",\"Opportunity.IsClosed\",\"Opportunity.Account.BillingCountry\",\"Opportunity.Account.User.Role.RolePath\",\"Opportunity.User.Role.Name\",\"PricebookEntryId\",\"Id\",\"HasRevenueSchedule\",\"Pricebook.Product2Id\",\"Opportunity.Account.AccountSource\",\"Opportunity.AccountId\",\"Opportunity.User.Name\",\"Opportunity.Account.User.Name\",\"Opportunity.ForecastCategoryName\",\"Opportunity.User.Role.Roles\",\"Opportunity.User.UniqueUserName\",\"Opportunity.User.Role.RolePath\",\"Opportunity.Type\",\"OpportunityId\",\"Opportunity.Account.Type\",\"Opportunity.Account.Name\",\"Opportunity.Name\",\"Opportunity.CloseDate\",\"Opportunity.Account.Industry\",\"Product.Name\",\"Opportunity.Account.OwnerId\",\"Opportunity.CreatedDate\",\"Opportunity.User.Role.ParentRole.DeveloperName\",\"Opportunity.OwnerId\",\"Product.Family\",\"Opportunity.User.Role.RoleNames\",\"Opportunity.LeadSource\",\"Opportunity.Account.BillingState\",\"ListPrice\",\"Discount_Percent\",\"Opportunity.Account.AnnualRevenue\",\"Quantity\",\"Total_ListPrice\",\"Opportunity.Account.NumberOfEmployees\",\"TotalPrice\"],\"dataset\":{\"name\":\"opportunity_product\",\"label\":\"Oppty Products\",\"type\":\"analyticsDataset\"}}},\"JOIN2\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[\"OpptyProduct.Opportunity.IsWon\",\"OpptyProduct.Opportunity.User.SmallPhotoUrl\",\"OpptyProduct.ServiceDate\",\"OpptyProduct.Opportunity.User.Role.ParentRoleId\",\"OpptyProduct.Opportunity.Account.User.UniqueUserName\",\"OpptyProduct.Product.ProductCode\",\"OpptyProduct.Opportunity.StageName\",\"OpptyProduct.ProductCode\",\"OpptyProduct.Opportunity.Account.User.Role.Roles\",\"OpptyProduct.Opportunity.Account.User.Role.Name\",\"OpptyProduct.Opportunity.IsClosed\",\"OpptyProduct.Opportunity.Account.BillingCountry\",\"OpptyProduct.Opportunity.Account.User.Role.RolePath\",\"OpptyProduct.Opportunity.User.Role.Name\",\"OpptyProduct.PricebookEntryId\",\"OpptyProduct.Id\",\"OpptyProduct.HasRevenueSchedule\",\"OpptyProduct.Opportunity.Account.AccountSource\",\"OpptyProduct.Opportunity.User.Name\",\"OpptyProduct.Opportunity.Account.User.Name\",\"OpptyProduct.Opportunity.ForecastCategoryName\",\"OpptyProduct.Opportunity.User.Role.Roles\",\"OpptyProduct.Opportunity.User.UniqueUserName\",\"OpptyProduct.Opportunity.User.Role.RolePath\",\"OpptyProduct.Opportunity.Type\",\"OpptyProduct.OpportunityId\",\"OpptyProduct.Opportunity.Account.Type\",\"OpptyProduct.Opportunity.Account.Name\",\"OpptyProduct.Opportunity.Name\",\"OpptyProduct.Opportunity.CloseDate\",\"OpptyProduct.Opportunity.Account.Industry\",\"OpptyProduct.Product.Name\",\"OpptyProduct.Opportunity.Account.OwnerId\",\"OpptyProduct.Opportunity.CreatedDate\",\"OpptyProduct.Opportunity.User.Role.ParentRole.DeveloperName\",\"OpptyProduct.Opportunity.OwnerId\",\"OpptyProduct.Product.Family\",\"OpptyProduct.Opportunity.User.Role.RoleNames\",\"OpptyProduct.Opportunity.LeadSource\",\"OpptyProduct.Opportunity.Account.BillingState\",\"OpptyProduct.ListPrice\",\"OpptyProduct.Discount_Percent\",\"OpptyProduct.Opportunity.Account.AnnualRevenue\",\"OpptyProduct.Quantity\",\"OpptyProduct.Total_ListPrice\",\"OpptyProduct.Opportunity.Account.NumberOfEmployees\",\"OpptyProduct.TotalPrice\"]}},\"sources\":[\"JOIN1\",\"FILTER0\"],\"action\":\"join\",\"parameters\":{\"leftKeys\":[\"Id\",\"Product.Id\"],\"rightKeys\":[\"Opportunity.AccountId\",\"Pricebook.Product2Id\"],\"rightQualifier\":\"OpptyProduct\",\"joinType\":\"LOOKUP\"}}},\"ui\":{\"hiddenColumns\":[],\"connectors\":[{\"source\":\"LOAD_DATASET5\",\"target\":\"TRANSFORM2\"},{\"source\":\"JOIN3\",\"target\":\"TRANSFORM3\"},{\"source\":\"TRANSFORM2\",\"target\":\"JOIN1\"},{\"source\":\"JOIN1\",\"target\":\"JOIN2\"},{\"source\":\"FILTER0\",\"target\":\"JOIN2\"},{\"source\":\"JOIN2\",\"target\":\"TRANSFORM4\"},{\"source\":\"FILTER3\",\"target\":\"OUTPUT1\"},{\"source\":\"LOAD_DATASET7\",\"target\":\"FILTER0\"},{\"source\":\"LOAD_DATASET7\",\"target\":\"FILTER1\"},{\"source\":\"LOAD_DATASET6\",\"target\":\"JOIN3\"},{\"source\":\"FILTER1\",\"target\":\"JOIN3\"},{\"source\":\"TRANSFORM3\",\"target\":\"FILTER2\"},{\"source\":\"FILTER2\",\"target\":\"JOIN1\"},{\"source\":\"TRANSFORM4\",\"target\":\"FILTER3\"}],\"nodes\":{\"FILTER0\":{\"top\":672,\"left\":812,\"description\":\"\",\"label\":\"Filter for Closed-Won\",\"type\":\"FILTER\"},\"FILTER1\":{\"top\":672,\"left\":252,\"description\":\"\",\"label\":\"Filter for Closed - Won\",\"type\":\"FILTER\"},\"FILTER2\":{\"top\":532,\"left\":392,\"description\":\"\",\"label\":\"Filter for Top N\",\"type\":\"FILTER\"},\"FILTER3\":{\"top\":392,\"left\":812,\"label\":\"Filter\",\"type\":\"FILTER\"},\"OUTPUT1\":{\"top\":392,\"left\":1092,\"description\":\"\",\"label\":\"Register GuidedSelling_ED dataset\",\"type\":\"OUTPUT\"},\"LOAD_DATASET6\":{\"top\":532,\"left\":112,\"description\":\"\",\"label\":\"Load Products dataset from RevOps app\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"JOIN1\":{\"top\":392,\"left\":392,\"description\":\"\",\"label\":\"CrossJoin\",\"type\":\"JOIN\"},\"TRANSFORM4\":{\"connectors\":[{\"source\":\"REPLACE0\",\"target\":\"BUCKET0\"},{\"source\":\"BUCKET0\",\"target\":\"EDIT_ATTRIBUTES0\"}],\"top\":392,\"left\":672,\"description\":\"\",\"label\":\"Transforms Bucket\",\"type\":\"TRANSFORM\",\"graph\":{\"REPLACE0\":{\"parameters\":{\"type\":\"REPLACE_UI\"}},\"EDIT_ATTRIBUTES0\":null,\"BUCKET0\":null}},\"LOAD_DATASET5\":{\"top\":392,\"left\":112,\"description\":\"\",\"label\":\"Load Account dataset from RevOps app\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"TRANSFORM2\":{\"connectors\":[],\"top\":392,\"left\":252,\"description\":\"\",\"label\":\"Add JoinKey\",\"type\":\"TRANSFORM\",\"graph\":{\"FORMULA2\":{\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}}}},\"JOIN3\":{\"top\":672,\"left\":392,\"description\":\"gets Total_ListPrice onto Products so we can rank them and keep Top N.\",\"label\":\"Join OpptyProducts\",\"type\":\"JOIN\"},\"TRANSFORM3\":{\"connectors\":[{\"source\":\"FORMULA3\",\"target\":\"FORMULA4\"}],\"top\":532,\"left\":252,\"description\":\"\",\"label\":\"Add JoinKey\",\"type\":\"TRANSFORM\",\"graph\":{\"FORMULA3\":{\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"FORMULA4\":null}},\"LOAD_DATASET7\":{\"top\":672,\"left\":112,\"description\":\"\",\"label\":\"Load Oppty Products dataset from RevOps app\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"JOIN2\":{\"top\":392,\"left\":532,\"label\":\"Join\",\"type\":\"JOIN\"}}},\"version\":\"52.0\"}"]