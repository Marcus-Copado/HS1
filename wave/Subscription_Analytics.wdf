["{\"nodes\":{\"Join_Subscription_QuoteLine\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"SBQQ__QuoteLine__c\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Quote\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"SBQQ__Renewal__c\",\"SBQQ__RenewedSubscription__c\",\"Id\",\"Name\",\"SBQQ__Quote__c\"]},\"sources\":[\"Join_ContractRenewal_Opportunity\",\"Extract_QuoteLine\"]},\"Join_Subscription_Contract\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"SBQQ__Contract__c\"],\"relationship\":\"SBQQ__Contract__c\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"ActivatedDate\",\"SBQQ__ActiveContract__c\",\"SBQQ__AmendmentRenewalBehavior__c\",\"SBQQ__AmendmentOpportunityRecordTypeId__c\",\"SBQQ__AmendmentOpportunityStage__c\",\"SBQQ__AmendmentStartDate__c\",\"BillingCountry\",\"BillingState\",\"BillingCity\",\"SBQQ__SubscriptionQuantitiesCombined__c\",\"CompanySignedDate\",\"EndDate\",\"ContractNumber\",\"StartDate\",\"ContractTerm\",\"CreatedDate\",\"CustomerSignedDate\",\"CustomerSignedTitle\",\"SBQQ__RenewalForecast__c\",\"SBQQ__RenewalTerm__c\",\"SBQQ__RenewalUpliftRate__c\",\"SBQQ__RenewalQuoted__c\",\"Status\",\"StatusCode\",\"AccountId\",\"SBQQ__RenewalOpportunity__c\"]},\"sources\":[\"Extract_SBQQ__Subscription__c\",\"Extract_Contract\"]},\"Compute_Revenue_Fields\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"MRR\",\"name\":\"MRR\",\"precision\":18,\"saqlExpression\":\"'SBQQ__CustomerPrice__c'/'SBQQ__Contract__c.ContractTerm'\",\"scale\":2,\"type\":\"Numeric\"},{\"label\":\"ARR\",\"name\":\"ARR\",\"precision\":18,\"saqlExpression\":\"('SBQQ__CustomerPrice__c'/'SBQQ__Contract__c.ContractTerm') *12\",\"scale\":2,\"type\":\"Numeric\"},{\"defaultValue\":\"\\\"false\\\"\",\"label\":\"Active\",\"name\":\"Active\",\"saqlExpression\":\"case when (toDate(SBQQ__StartDate__c_sec_epoch) <= now() && toDate(SBQQ__EndDate__c_sec_epoch) >= now()) then \\\"true\\\" else \\\"false\\\" end\",\"type\":\"Text\"},{\"label\":\"IsRenewal\",\"name\":\"IsRenewal\",\"saqlExpression\":\"case when 'Quote.SBQQ__RenewedSubscription__c' is null then \\\"false\\\" else \\\"true\\\" end\\n\",\"type\":\"Text\"},{\"label\":\"HasRenewal\",\"name\":\"HasRenewal\",\"saqlExpression\":\"case when 'SBQQ__RenewedDate__c' is null then \\\"false\\\" else \\\"true\\\" end\",\"type\":\"Text\"},{\"label\":\"Renewal Status\",\"name\":\"RenewalStatus\",\"saqlExpression\":\"case when 'SBQQ__Contract__c.SBQQ__RenewalOpportunity__c' is null then \\\"No Renewal Opportunity Created\\\" when 'SBQQ__Contract__c.SBQQ__RenewalOpportunity__c.IsClosed' == \\\"true\\\" then 'SBQQ__Contract__c.SBQQ__RenewalOpportunity__c.StageName' when !('RenewalQuote.Name' is null) then \\\"Is Quoted\\\" else 'SBQQ__Contract__c.SBQQ__RenewalOpportunity__c.StageName' end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Join_SubscribtionRenewal_QuoteLine\"]},\"Extract_Opportunity\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Name\"},{\"name\":\"Amount\"},{\"name\":\"StageName\"},{\"name\":\"Probability\"},{\"name\":\"IsClosed\"},{\"name\":\"IsWon\"},{\"name\":\"Id\"}],\"object\":\"Opportunity\"}},\"Extract_SBQQ__Subscription__c\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"SBQQ__Discount__c\"},{\"name\":\"SBQQ__AdditionalDiscountAmount__c\"},{\"name\":\"SBQQ__BillingFrequency__c\"},{\"name\":\"SBQQ__BillingType__c\"},{\"name\":\"SBQQ__Bundled__c\"},{\"name\":\"SBQQ__ChargeType__c\"},{\"name\":\"SBQQ__ComponentDiscountedByPackage__c\"},{\"name\":\"SBQQ__ComponentSubscriptionScope__c\"},{\"name\":\"SBQQ__ContractNumber__c\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"name\":\"CreatedDate\"},{\"name\":\"SBQQ__CreditProductId__c\"},{\"name\":\"SBQQ__CustomerPrice__c\"},{\"name\":\"IsDeleted\"},{\"name\":\"SBQQ__DimensionType__c\"},{\"name\":\"SBQQ__DiscountScheduleType__c\"},{\"name\":\"SBQQ__DistributorDiscount__c\"},{\"name\":\"SBQQ__DynamicOptionId__c\"},{\"name\":\"SBQQ__EndDate__c\"},{\"name\":\"SBQQ__ListPrice__c\"},{\"name\":\"SBQQ__MarkupRate__c\"},{\"name\":\"SBQQ__MarkupAmount__c\"},{\"name\":\"SBQQ__Contract__c\"},{\"name\":\"SBQQ__NetPrice__c\"},{\"name\":\"SBQQ__Number__c\"},{\"name\":\"SBQQ__OptionDiscount__c\"},{\"name\":\"SBQQ__OptionDiscountAmount__c\"},{\"name\":\"SBQQ__OptionLevel__c\"},{\"name\":\"SBQQ__OptionType__c\"},{\"name\":\"SBQQ__BundledQuantity__c\"},{\"name\":\"SBQQ__OriginalUnitCost__c\"},{\"name\":\"SBQQ__Bundle__c\"},{\"name\":\"SBQQ__PartnerDiscount__c\"},{\"name\":\"SBQQ__PricingMethod__c\"},{\"name\":\"SBQQ__ProductName__c\"},{\"name\":\"SBQQ__ProrateMultiplier__c\"},{\"name\":\"SBQQ__Quantity__c\"},{\"name\":\"SBQQ__RegularPrice__c\"},{\"name\":\"SBQQ__RenewalPrice__c\"},{\"name\":\"SBQQ__RenewalQuantity__c\"},{\"name\":\"SBQQ__RenewalUpliftRate__c\"},{\"name\":\"SBQQ__RenewedDate__c\"},{\"name\":\"SBQQ__SegmentIndex__c\"},{\"name\":\"SBQQ__SegmentEndDate__c\"},{\"name\":\"SBQQ__SegmentKey__c\"},{\"name\":\"SBQQ__SegmentLabel__c\"},{\"name\":\"SBQQ__SegmentQuantity__c\"},{\"name\":\"SBQQ__SegmentStartDate__c\"},{\"name\":\"SBQQ__SegmentUplift__c\"},{\"name\":\"SBQQ__SegmentUpliftAmount__c\"},{\"name\":\"SBQQ__SpecialPrice__c\"},{\"name\":\"SBQQ__StartDate__c\"},{\"name\":\"Name\"},{\"name\":\"SBQQ__SubscriptionEndDate__c\"},{\"name\":\"SBQQ__SubscriptionStartDate__c\"},{\"name\":\"SBQQ__TerminatedDate__c\"},{\"name\":\"SBQQ__UnitCost__c\"},{\"name\":\"SBQQ__QuoteLine__c\"},{\"name\":\"Id\"}],\"object\":\"SBQQ__Subscription__c\"}},\"Extract_Account\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Name\"},{\"name\":\"Id\"}],\"object\":\"Account\"}},\"Join_ContractRenewal_Opportunity\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"SBQQ__Contract__c.SBQQ__RenewalOpportunity__c\"],\"relationship\":\"SBQQ__Contract__c.SBQQ__RenewalOpportunity__c\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Id\",\"IsClosed\",\"IsWon\",\"Name\",\"Amount\",\"StageName\",\"Probability\"]},\"sources\":[\"Join_Contract_Account\",\"Extract_Opportunity\"]},\"Extract_Contract\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"name\":\"ActivatedDate\"},{\"name\":\"SBQQ__ActiveContract__c\"},{\"name\":\"SBQQ__AmendmentRenewalBehavior__c\"},{\"name\":\"SBQQ__AmendmentOpportunityRecordTypeId__c\"},{\"name\":\"SBQQ__AmendmentOpportunityStage__c\"},{\"name\":\"SBQQ__AmendmentStartDate__c\"},{\"name\":\"BillingCountry\"},{\"name\":\"BillingState\"},{\"name\":\"BillingCity\"},{\"name\":\"SBQQ__SubscriptionQuantitiesCombined__c\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"name\":\"CompanySignedDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"name\":\"EndDate\"},{\"name\":\"ContractNumber\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"name\":\"StartDate\"},{\"name\":\"ContractTerm\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"name\":\"CreatedDate\"},{\"firstDayOfWeek\":0,\"fiscalMonthOffset\":0,\"name\":\"CustomerSignedDate\"},{\"name\":\"CustomerSignedTitle\"},{\"name\":\"SBQQ__RenewalForecast__c\"},{\"name\":\"SBQQ__RenewalTerm__c\"},{\"name\":\"SBQQ__RenewalUpliftRate__c\"},{\"name\":\"SBQQ__RenewalQuoted__c\"},{\"name\":\"Status\"},{\"name\":\"StatusCode\"},{\"name\":\"AccountId\"},{\"name\":\"SBQQ__RenewalOpportunity__c\"},{\"name\":\"Id\"}],\"object\":\"Contract\"}},\"Extract_QuoteLine\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"SBQQ__Renewal__c\"},{\"name\":\"SBQQ__RenewedSubscription__c\"},{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"SBQQ__Quote__c\"}],\"object\":\"SBQQ__QuoteLine__c\"}},\"register_Subscriptions\":{\"action\":\"register\",\"parameters\":{\"label\":\"Contract Subscriptions\",\"name\":\"subscription\"},\"sources\":[\"Compute_Renewal_Warning\"]},\"Compute_Renewal_Warning\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"RenewalWarning\",\"name\":\"RenwalWarning\",\"saqlExpression\":\"case when 'Active' == \\\"true\\\" && daysBetween(now(), toDate(SBQQ__EndDate__c_sec_epoch)) < 30  && 'HasRenewal' == \\\"false\\\" then \\\"true\\\" else \\\"false\\\" end\",\"type\":\"Text\"},{\"label\":\"Days to Expiration\",\"name\":\"DaysToExpiration\",\"precision\":18,\"saqlExpression\":\"daysBetween(now(), toDate(SBQQ__EndDate__c_sec_epoch))\",\"scale\":2,\"type\":\"Numeric\"},{\"label\":\"Days To Expiration (bucket)\",\"name\":\"DaysToExpirationBucket\",\"saqlExpression\":\"case when daysBetween(now(), toDate(SBQQ__EndDate__c_sec_epoch)) < 30  then \\\"Less than 30 Days\\\" when daysBetween(now(), toDate(SBQQ__EndDate__c_sec_epoch)) < 60 then \\\"Less than 60 Days\\\" when daysBetween(now(), toDate(SBQQ__EndDate__c_sec_epoch)) < 90 then \\\"Less than 90 Days\\\" when daysBetween(now(), toDate(SBQQ__EndDate__c_sec_epoch)) < 180 then \\\"Less than 180 Days\\\" when daysBetween(now(), toDate(SBQQ__EndDate__c_sec_epoch)) < 365 then \\\"Less than 365 Days\\\" else \\\"More than 365 Days\\\" end\",\"type\":\"Text\"}],\"mergeWithSource\":true},\"sources\":[\"Compute_Revenue_Fields\"]},\"Join_Contract_Account\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"SBQQ__Contract__c.AccountId\"],\"relationship\":\"SBQQ__Contract__c.AccountId\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"Join_Subscription_Contract\",\"Extract_Account\"]},\"Join_SubscribtionRenewal_QuoteLine\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Id\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"RenewalQuote\",\"rightKey\":[\"SBQQ__RenewedSubscription__c\"],\"rightSelect\":[\"SBQQ__Renewal__c\",\"Name\",\"SBQQ__Quote__c\",\"Id\",\"SBQQ__RenewedSubscription__c\"]},\"sources\":[\"Join_Subscription_QuoteLine\",\"Extract_QuoteLine\"]}}}",null]